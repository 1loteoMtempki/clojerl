#!/usr/bin/env escript
%% -*- erlang -*-
%%! -smp enable -pa _build/default/lib/clojerl/ebin -pa src/clj +pc unicode

-spec main([string()]) -> ok.
main(Paths) ->
  clojerl:start(),
  lists:foreach(fun(X) -> compile_file(X) end, Paths),
  ok.

-spec compile_file(string()) -> term().
compile_file(Path) ->
  PathBin = list_to_binary(Path),
  Opts    = #{ verbose    => true
             , time       => true
             , output_dir => "ebin"
             },
  clj_compiler:compile_file(PathBin, Opts).
