{ erl_opts
, [ debug_info
  , {platform_define, "^2", 'ETS_CAS'}
  , {platform_define, "^(R|1|20)", 'FUN_STACKTRACE'}
  ]
}.

{ profiles,
  [ { dev
    , [ { deps
        , [{eflame, ".*", {git, "https://github.com/jfacorro/eflame", {branch, "various.improvements"}}}]
        }
      ]
    }
  , { test
    , [ { deps
        , [ {xref_runner, {git, "https://github.com/inaka/xref_runner.git", {tag, "0.2.5"}}}
          , {meck,        {git, "https://github.com/eproxus/meck",          {tag, "0.8.10"}}}
          ]
        }
      , { plugins
        , [ rebar_covertool
          , {cover_result, ".*", {git,  "https://github.com/jfacorro/cover_result", {tag, "0.1.0"}}}
          ]
        }
      ]
    }
  ]
}.

{cover_enabled, true}.
{shell, [{apps, [clojerl, sync]}]}.
